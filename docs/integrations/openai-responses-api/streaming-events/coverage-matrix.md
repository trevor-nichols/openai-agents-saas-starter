# Coverage Matrix - OpenAI Responses Streming Events

Legend for **Status**: âœ… Implemented Â· ğŸŸ¨ Partial Â· â¬œ Planned Â· â›” Ignored

# Raw protocol coverage

## Lifecycle (01-lifecycle.md) â€” Tracker Template

| Event type             | Correlation keys | What the event represents (from docs)                       | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes |
| ---------------------- | ---------------- | ----------------------------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ----- |
| `response.created`     | `response.id`    | A response object was created (initial metadata + status).  | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.queued`      | `response.id`    | Response is queued (waiting to be processed).               | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.in_progress` | `response.id`    | Response is in progress.                                    | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.completed`   | `response.id`    | Response completed successfully (final response payload).   | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.failed`      | `response.id`    | Response failed (response includes `error`).                | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.incomplete`  | `response.id`    | Response finished incomplete (`incomplete_details.reason`). | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |

---

## Output content (02-output-content.md) â€” Tracker Template

| Event type                              | Correlation keys                                               | What the event represents (from docs)                      | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes |
| --------------------------------------- | -------------------------------------------------------------- | ---------------------------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ----- |
| `response.output_item.added`            | `output_index`, `item.id`                                      | A new output item was added to the response output array.  | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.output_item.done`             | `output_index`, `item.id`                                      | An output item was marked done (completed).                | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.content_part.added`           | `item_id`, `output_index`, `content_index`                     | A new content part was added to an output item.            | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.content_part.done`            | `item_id`, `output_index`, `content_index`                     | A content part was marked done (finalized).                | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.output_text.delta`            | `item_id`, `output_index`, `content_index`                     | A text delta was produced for an output_text content part. | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.output_text.done`             | `item_id`, `output_index`, `content_index`                     | Final text for the output_text content part.               | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.refusal.delta`                | `item_id`, `output_index`, `content_index`                     | A partial refusal text delta was produced.                 | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.refusal.done`                 | `item_id`, `output_index`, `content_index`                     | Final refusal text was produced.                           | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.output_text.annotation.added` | `item_id`, `output_index`, `content_index`, `annotation_index` | An annotation was added to output text content.            | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |

---

## Function calls (03-function-calls.md) â€” Tracker Template

| Event type                               | Correlation keys          | What the event represents (from docs)          | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes |
| ---------------------------------------- | ------------------------- | ---------------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ----- |
| `response.function_call_arguments.delta` | `item_id`, `output_index` | Partial function-call arguments delta.         | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.function_call_arguments.done`  | `item_id`, `output_index` | Final function-call arguments + function name. | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.custom_tool_call_input.delta`  | `item_id`, `output_index` | Partial update to input of a custom tool call. | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.custom_tool_call_input.done`   | `item_id`, `output_index` | Final input for a custom tool call.            | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |

---

## Built-in tools (04-builtin-tools.md) â€” Tracker Template

### File search

| Event type                              | Correlation keys          | What the event represents (from docs) | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes |
| --------------------------------------- | ------------------------- | ------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ----- |
| `response.file_search_call.in_progress` | `item_id`, `output_index` | File search call initiated.           | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.file_search_call.searching`   | `item_id`, `output_index` | File search is actively searching.    | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.file_search_call.completed`   | `item_id`, `output_index` | File search call completed.           | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |

### Web search

| Event type                             | Correlation keys          | What the event represents (from docs) | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes |
| -------------------------------------- | ------------------------- | ------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ----- |
| `response.web_search_call.in_progress` | `item_id`, `output_index` | Web search call initiated.            | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.web_search_call.searching`   | `item_id`, `output_index` | Web search is executing.              | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.web_search_call.completed`   | `item_id`, `output_index` | Web search call completed.            | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |

### Image generation

| Event type                                     | Correlation keys                                 | What the event represents (from docs)               | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes |
| ---------------------------------------------- | ------------------------------------------------ | --------------------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ----- |
| `response.image_generation_call.in_progress`   | `item_id`, `output_index`                        | Image generation call is in progress.               | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.image_generation_call.generating`    | `item_id`, `output_index`                        | Image generation is actively generating.            | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.image_generation_call.partial_image` | `item_id`, `output_index`, `partial_image_index` | Partial image available during generation (base64). | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.image_generation_call.completed`     | `item_id`, `output_index`                        | Image generation completed; final image available.  | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |

### Code interpreter

| Event type                                    | Correlation keys          | What the event represents (from docs)              | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes |
| --------------------------------------------- | ------------------------- | -------------------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ----- |
| `response.code_interpreter_call.in_progress`  | `item_id`, `output_index` | Code interpreter call is in progress.              | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.code_interpreter_call.interpreting` | `item_id`, `output_index` | Code interpreter is actively interpreting.         | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.code_interpreter_call.completed`    | `item_id`, `output_index` | Code interpreter call completed.                   | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.code_interpreter_call_code.delta`   | `item_id`, `output_index` | Partial code snippet streamed by code interpreter. | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.code_interpreter_call_code.done`    | `item_id`, `output_index` | Final code snippet for the code interpreter.       | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |

---

## MCP tools (05-mcp-tools.md) â€” Tracker Template

| Event type                            | Correlation keys          | What the event represents (from docs)    | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes |
| ------------------------------------- | ------------------------- | ---------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ----- |
| `response.mcp_call_arguments.delta`   | `item_id`, `output_index` | Delta to MCP tool call arguments.        | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.mcp_call_arguments.done`    | `item_id`, `output_index` | Final MCP tool call arguments.           | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.mcp_call.in_progress`       | `item_id`, `output_index` | MCP tool call in progress.               | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.mcp_call.completed`         | `item_id`, `output_index` | MCP tool call completed successfully.    | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.mcp_call.failed`            | `item_id`, `output_index` | MCP tool call failed.                    | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.mcp_list_tools.in_progress` | `item_id`, `output_index` | Listing available MCP tools in progress. | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.mcp_list_tools.completed`   | `item_id`, `output_index` | Listing available MCP tools completed.   | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.mcp_list_tools.failed`      | `item_id`, `output_index` | Listing available MCP tools failed.      | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |

---

## Reasoning (06-reasoning.md) â€” Tracker Template

| Event type                              | Correlation keys                           | What the event represents (from docs)   | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes |
| --------------------------------------- | ------------------------------------------ | --------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ----- |
| `response.reasoning_summary_part.added` | `item_id`, `output_index`, `summary_index` | A reasoning summary part was added.     | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.reasoning_summary_part.done`  | `item_id`, `output_index`, `summary_index` | A reasoning summary part was completed. | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.reasoning_summary_text.delta` | `item_id`, `output_index`, `summary_index` | Delta to reasoning summary text.        | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.reasoning_summary_text.done`  | `item_id`, `output_index`, `summary_index` | Final reasoning summary text.           | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.reasoning_text.delta`         | `item_id`, `output_index`, `content_index` | Delta to reasoning text.                | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |
| `response.reasoning_text.done`          | `item_id`, `output_index`, `content_index` | Final reasoning text.                   | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |

---

## Errors (07-errors.md) â€” Tracker Template

| Event type | Correlation keys | What the event represents (from docs)   | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes |
| ---------- | ---------------- | --------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ----- |
| `error`    | (stream/session) | An error occurred (code/message/param). | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | â€”     |

---

# Agent-level Abstraction Coverage

## 08-agents.md â€” Tracker Template

### StreamEvent variants (envelope-level)

| Event type/name           | Correlation keys               | What the event represents (from your Agents SDK doc)                                                                                  | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes                                                                                                                          |
| ------------------------- | ------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | ------------------------------------------------------------------------------------------------------------------------------ |
| `raw_response_event`      | (wrapped) `data.*`             | Wrapper around a raw Responses streaming event (`data: TResponseStreamEvent`).                                                        | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Map this row to your **01â€“07 tables** (you already have coverage there). Decide: forward to FE? debug-only? stored trace-only? |
| `RunItemStreamEvent`      | (from `item: RunItem`)         | Higher-level events produced by the agent as it processes LLM output (messages, tool calls, tool outputs, handoffs, approvals, etc.). | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Use this if you want a **normalized â€œproduct streamâ€** without forcing FE to understand every raw event.                       |
| `AgentUpdatedStreamEvent` | (from `new_agent: Agent[Any]`) | Notifies that there is a new agent running.                                                                                           | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Useful if you support dynamic handoffs / agent switching in UI.                                                                |

---

### RunItemStreamEvent â€œnameâ€ values

| Event type/name          | Correlation keys       | What the event represents (from your Agents SDK doc) | Used? | Mode | Inbound schema (Pydantic model + path) | Outbound schema (Pydantic model + path or passthrough) | Frontend type (TS/Zod) | Reducer/handler | Test trace (golden) | Status | Notes                                                     |
| ------------------------ | ---------------------- | ---------------------------------------------------- | ----- | ---- | -------------------------------------- | ------------------------------------------------------ | ---------------------- | --------------- | ------------------- | ------ | --------------------------------------------------------- |
| `message_output_created` | (from `item: RunItem`) | Agent created a new message output RunItem.          | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Anchor a message block from RunItem identity.             |
| `tool_called`            | (from `item: RunItem`) | Agent initiated a tool call RunItem.                 | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Often becomes your â€œtool card startâ€ event.               |
| `tool_output`            | (from `item: RunItem`) | Agent produced tool output RunItem.                  | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Useful if you want the FE to render tool outputs cleanly. |
| `reasoning_item_created` | (from `item: RunItem`) | Agent created a reasoning-related RunItem.           | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Decide if this is prod UI vs debug UI.                    |
| `handoff_requested`      | (from `item: RunItem`) | A handoff was requested.                             | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Useful if you show â€œhandoff pendingâ€ UX.                  |
| `handoff_occured`        | (from `item: RunItem`) | A handoff occurred.                                  | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | (Keep spelling as in your doc.)                           |
| `mcp_approval_requested` | (from `item: RunItem`) | MCP approval requested.                              | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Typically drives a â€œhuman approvalâ€ UI gate.              |
| `mcp_approval_response`  | (from `item: RunItem`) | MCP approval response provided.                      | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Typically resolves the approval gate.                     |
| `mcp_list_tools`         | (from `item: RunItem`) | Agent produced an MCP list-tools RunItem.            | â€”     | â€”    | â€”                                      | â€”                                                      | â€”                      | â€”               | â€”                   | â€”      | Often debug/admin UX, sometimes user-facing.              |

---
