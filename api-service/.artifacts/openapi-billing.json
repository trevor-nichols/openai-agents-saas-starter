{
  "openapi": "3.1.0",
  "info": {
    "title": "anything-agents",
    "description": "anything-agents FastAPI microservice",
    "version": "1.0.0"
  },
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Basic liveness probe.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/health/ready": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Readiness Check",
        "description": "Readiness probe for orchestrators (extend with dependency checks).",
        "operationId": "readiness_check_health_ready_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/webhooks/stripe": {
      "post": {
        "summary": "Handle Stripe Webhook",
        "operationId": "handle_stripe_webhook_webhooks_stripe_post",
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "boolean"
                  },
                  "type": "object",
                  "title": "Response Handle Stripe Webhook Webhooks Stripe Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/token": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Login For Access Token",
        "description": "Authenticate a user and mint fresh access/refresh tokens.",
        "operationId": "login_for_access_token_api_v1_auth_token_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Refresh Access Token",
        "description": "Exchange a refresh token for a new access/refresh pair.",
        "operationId": "refresh_access_token_api_v1_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRefreshRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Logout Session",
        "description": "Revoke a single refresh token for the authenticated user.",
        "operationId": "logout_session_api_v1_auth_logout_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogoutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/logout/all": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Logout All Sessions",
        "description": "Revoke every refresh token tied to the authenticated user.",
        "operationId": "logout_all_sessions_api_v1_auth_logout_all_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/sessions": {
      "get": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "List User Sessions",
        "description": "Return paginated session/device metadata for the authenticated user.",
        "operationId": "list_user_sessions_api_v1_auth_sessions_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "include_revoked",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "When true, include revoked sessions in the response.",
              "default": false,
              "title": "Include Revoked"
            },
            "description": "When true, include revoked sessions in the response."
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of sessions to return.",
              "default": 20,
              "title": "Limit"
            },
            "description": "Maximum number of sessions to return."
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Offset applied when listing sessions.",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset applied when listing sessions."
          },
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional tenant scope for filtering sessions.",
              "title": "Tenant Id"
            },
            "description": "Optional tenant scope for filtering sessions."
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSessionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/sessions/{session_id}": {
      "delete": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Revoke User Session",
        "description": "Revoke a specific session/device for the authenticated user.",
        "operationId": "revoke_user_session_api_v1_auth_sessions__session_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Get Current User Info",
        "description": "Return metadata about the current authenticated user.",
        "operationId": "get_current_user_info_api_v1_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/email/send": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Send Email Verification",
        "operationId": "send_email_verification_api_v1_auth_email_send_post",
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/email/verify": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Verify Email Token",
        "operationId": "verify_email_token_api_v1_auth_email_verify_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationConfirmRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/password/forgot": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Request Password Reset",
        "operationId": "request_password_reset_api_v1_auth_password_forgot_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordForgotRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/password/confirm": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Confirm Password Reset",
        "operationId": "confirm_password_reset_api_v1_auth_password_confirm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetConfirmRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/password/change": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Change Password",
        "operationId": "change_password_api_v1_auth_password_change_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordChangeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/password/reset": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Admin Reset Password",
        "operationId": "admin_reset_password_api_v1_auth_password_reset_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/service-accounts/issue": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Issue Service Account Token",
        "description": "Mint a refresh token for a registered service account.",
        "operationId": "issue_service_account_token_api_v1_auth_service_accounts_issue_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Authorization"
            }
          },
          {
            "name": "X-Vault-Payload",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Vault-Payload"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ServiceAccountIssueRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountTokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/service-accounts/browser-issue": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Issue Service Account Token From Browser",
        "operationId": "issue_service_account_token_from_browser_api_v1_auth_service_accounts_browser_issue_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-Operator-Override",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Operator-Override"
            }
          },
          {
            "name": "X-Operator-Reason",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Operator-Reason"
            }
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrowserServiceAccountIssueRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountTokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/service-accounts/tokens": {
      "get": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "List Service Account Tokens",
        "operationId": "list_service_account_tokens_api_v1_auth_service_accounts_tokens_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "account",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by service-account identifier (substring match).",
              "title": "Account"
            },
            "description": "Filter by service-account identifier (substring match)."
          },
          {
            "name": "fingerprint",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by stored fingerprint.",
              "title": "Fingerprint"
            },
            "description": "Filter by stored fingerprint."
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ServiceAccountTokenStatus",
              "description": "Token status filter (active, revoked, all).",
              "default": "active"
            },
            "description": "Token status filter (active, revoked, all)."
          },
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Tenant UUID to filter (operator override only).",
              "title": "Tenant Id"
            },
            "description": "Tenant UUID to filter (operator override only)."
          },
          {
            "name": "include_global",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include tenantless tokens (operator override only).",
              "default": false,
              "title": "Include Global"
            },
            "description": "Include tenantless tokens (operator override only)."
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Max tokens to return.",
              "default": 20,
              "title": "Limit"
            },
            "description": "Max tokens to return."
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Offset for pagination.",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset for pagination."
          },
          {
            "name": "X-Operator-Override",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Operator-Override"
            }
          },
          {
            "name": "X-Operator-Reason",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Operator-Reason"
            }
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountTokenListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/service-accounts/tokens/{jti}/revoke": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Revoke Service Account Token",
        "operationId": "revoke_service_account_token_api_v1_auth_service_accounts_tokens__jti__revoke_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "jti",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Refresh token identifier (JWT jti).",
              "title": "Jti"
            },
            "description": "Refresh token identifier (JWT jti)."
          },
          {
            "name": "X-Operator-Override",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Operator-Override"
            }
          },
          {
            "name": "X-Operator-Reason",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Operator-Reason"
            }
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ServiceAccountTokenRevokeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/signup-policy": {
      "get": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Get Signup Access Policy",
        "operationId": "get_signup_access_policy_api_v1_auth_signup_policy_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupAccessPolicyResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/register": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Register Tenant",
        "operationId": "register_tenant_api_v1_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRegisterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/request-access": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Submit Access Request",
        "operationId": "submit_access_request_api_v1_auth_request_access_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignupRequestPublicRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupAccessPolicyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/signup-requests": {
      "get": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "List Signup Requests",
        "operationId": "list_signup_requests_api_v1_auth_signup_requests_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/SignupRequestStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupRequestListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/signup-requests/{request_id}/approve": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Approve Signup Request",
        "operationId": "approve_signup_request_api_v1_auth_signup_requests__request_id__approve_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Request Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignupRequestApprovalRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupRequestDecisionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/signup-requests/{request_id}/reject": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Reject Signup Request",
        "operationId": "reject_signup_request_api_v1_auth_signup_requests__request_id__reject_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Request Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignupRequestRejectionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupRequestDecisionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/invites": {
      "get": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "List Invites",
        "operationId": "list_invites_api_v1_auth_invites_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/SignupInviteStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "email",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Email"
            }
          },
          {
            "name": "request_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Request Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupInviteListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Issue Invite",
        "operationId": "issue_invite_api_v1_auth_invites_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignupInviteIssueRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupInviteIssueResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/invites/{invite_id}/revoke": {
      "post": {
        "tags": [
          "auth",
          "auth"
        ],
        "summary": "Revoke Invite",
        "operationId": "revoke_invite_api_v1_auth_invites__invite_id__revoke_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "invite_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Invite Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupInviteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/chat": {
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Chat With Agent",
        "description": "Send a message to the agent framework and receive a full response.",
        "operationId": "chat_with_agent_api_v1_chat_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentChatRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentChatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/chat/stream": {
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Stream Chat With Agent",
        "description": "Provide an SSE stream for real-time agent responses.",
        "operationId": "stream_chat_with_agent_api_v1_chat_stream_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentChatRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents": {
      "get": {
        "tags": [
          "agents"
        ],
        "summary": "List Available Agents",
        "description": "Return all agents registered with the platform.",
        "operationId": "list_available_agents_api_v1_agents_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AgentSummary"
                  },
                  "type": "array",
                  "title": "Response List Available Agents Api V1 Agents Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/agents/{agent_name}/status": {
      "get": {
        "tags": [
          "agents"
        ],
        "summary": "Get Agent Status",
        "description": "Return health/status details for a specific agent.",
        "operationId": "get_agent_status_api_v1_agents__agent_name__status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "agent_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Agent Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentStatus"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conversations": {
      "get": {
        "tags": [
          "conversations"
        ],
        "summary": "List Conversations",
        "description": "List stored conversations ordered by recency.",
        "operationId": "list_conversations_api_v1_conversations_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Opaque pagination cursor.",
              "title": "Cursor"
            },
            "description": "Opaque pagination cursor."
          },
          {
            "name": "agent",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by agent entrypoint.",
              "title": "Agent"
            },
            "description": "Filter by agent entrypoint."
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conversations/search": {
      "get": {
        "tags": [
          "conversations"
        ],
        "summary": "Search Conversations",
        "description": "Search conversations by message text.",
        "operationId": "search_conversations_api_v1_conversations_search_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query.",
              "title": "Q"
            },
            "description": "Search query."
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Opaque pagination cursor.",
              "title": "Cursor"
            },
            "description": "Opaque pagination cursor."
          },
          {
            "name": "agent",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by agent entrypoint.",
              "title": "Agent"
            },
            "description": "Filter by agent entrypoint."
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/conversations/{conversation_id}": {
      "get": {
        "tags": [
          "conversations"
        ],
        "summary": "Get Conversation",
        "description": "Return the full conversation history for a specific conversation.",
        "operationId": "get_conversation_api_v1_conversations__conversation_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conversation Id"
            }
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationHistory"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "conversations"
        ],
        "summary": "Delete Conversation",
        "description": "Remove all stored messages for the given conversation.",
        "operationId": "delete_conversation_api_v1_conversations__conversation_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conversation Id"
            }
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tools": {
      "get": {
        "tags": [
          "tools"
        ],
        "summary": "List Available Tools",
        "description": "Return metadata about registered tools.",
        "operationId": "list_available_tools_api_v1_tools_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response List Available Tools Api V1 Tools Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/status": {
      "get": {
        "tags": [
          "status"
        ],
        "summary": "Get Platform Status",
        "description": "Return the latest platform status snapshot.",
        "operationId": "get_platform_status_api_v1_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/status/rss": {
      "get": {
        "tags": [
          "status"
        ],
        "summary": "Get Platform Status Rss",
        "description": "Return the incident feed as an RSS document.",
        "operationId": "get_platform_status_rss_api_v1_status_rss_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/api/v1/status/subscriptions": {
      "post": {
        "tags": [
          "status"
        ],
        "summary": "Create Status Subscription",
        "operationId": "create_status_subscription_api_v1_status_subscriptions_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatusSubscriptionCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusSubscriptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "status"
        ],
        "summary": "List Status Subscriptions",
        "operationId": "list_status_subscriptions_api_v1_status_subscriptions_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Cursor"
            }
          },
          {
            "name": "tenant_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Tenant identifier to inspect (operators only).",
              "title": "Tenant Id"
            },
            "description": "Tenant identifier to inspect (operators only)."
          },
          {
            "name": "all",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "When true, ignore token tenant scoping and return subscriptions across all tenants.",
              "default": false,
              "title": "All"
            },
            "description": "When true, ignore token tenant scoping and return subscriptions across all tenants."
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusSubscriptionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/status/subscriptions/verify": {
      "post": {
        "tags": [
          "status"
        ],
        "summary": "Verify Status Subscription",
        "operationId": "verify_status_subscription_api_v1_status_subscriptions_verify_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatusSubscriptionVerifyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusSubscriptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/status/subscriptions/challenge": {
      "post": {
        "tags": [
          "status"
        ],
        "summary": "Confirm Webhook Challenge",
        "operationId": "confirm_webhook_challenge_api_v1_status_subscriptions_challenge_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatusSubscriptionChallengeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusSubscriptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/status/subscriptions/{subscription_id}": {
      "delete": {
        "tags": [
          "status"
        ],
        "summary": "Revoke Status Subscription",
        "operationId": "revoke_status_subscription_api_v1_status_subscriptions__subscription_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "subscription_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Subscription Id"
            }
          },
          {
            "name": "token",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Unsubscribe token for email subscribers.",
              "title": "Token"
            },
            "description": "Unsubscribe token for email subscribers."
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/status/incidents/{incident_id}/resend": {
      "post": {
        "tags": [
          "status"
        ],
        "summary": "Resend Status Incident",
        "operationId": "resend_status_incident_api_v1_status_incidents__incident_id__resend_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "incident_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Incident Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatusIncidentResendRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusIncidentResendResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/status.rss": {
      "get": {
        "tags": [
          "status"
        ],
        "summary": "Get Platform Status Rss Alias",
        "description": "Legacy alias for consumers using /status.rss paths.",
        "operationId": "get_platform_status_rss_alias_api_v1_status_rss_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/api/v1/tenants/settings": {
      "get": {
        "tags": [
          "tenants"
        ],
        "summary": "Get Tenant Settings",
        "operationId": "get_tenant_settings_api_v1_tenants_settings_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "tenants"
        ],
        "summary": "Update Tenant Settings",
        "operationId": "update_tenant_settings_api_v1_tenants_settings_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TenantSettingsUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantSettingsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/plans": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "List Billing Plans",
        "description": "Return the catalog of available billing plans.",
        "operationId": "list_billing_plans_api_v1_billing_plans_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/BillingPlanResponse"
                  },
                  "type": "array",
                  "title": "Response List Billing Plans Api V1 Billing Plans Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/tenants/{tenant_id}/subscription": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "Get Tenant Subscription",
        "description": "Return the current subscription for a tenant.",
        "operationId": "get_tenant_subscription_api_v1_billing_tenants__tenant_id__subscription_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantSubscriptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "billing"
        ],
        "summary": "Start Subscription",
        "description": "Provision a new subscription for the tenant.",
        "operationId": "start_subscription_api_v1_billing_tenants__tenant_id__subscription_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StartSubscriptionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantSubscriptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "billing"
        ],
        "summary": "Update Subscription",
        "description": "Adjust subscription metadata (auto-renew, seats, billing email).",
        "operationId": "update_subscription_api_v1_billing_tenants__tenant_id__subscription_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSubscriptionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantSubscriptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/tenants/{tenant_id}/subscription/cancel": {
      "post": {
        "tags": [
          "billing"
        ],
        "summary": "Cancel Subscription",
        "description": "Cancel the tenant subscription (immediately or at period end).",
        "operationId": "cancel_subscription_api_v1_billing_tenants__tenant_id__subscription_cancel_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelSubscriptionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantSubscriptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/tenants/{tenant_id}/usage": {
      "post": {
        "tags": [
          "billing"
        ],
        "summary": "Record Usage",
        "description": "Report metered usage for a tenant subscription.",
        "operationId": "record_usage_api_v1_billing_tenants__tenant_id__usage_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UsageRecordRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/tenants/{tenant_id}/events": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "List Billing Events",
        "description": "Page through the tenant's historical billing events.",
        "operationId": "list_billing_events_api_v1_billing_tenants__tenant_id__events_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of events to return.",
              "default": 25,
              "title": "Limit"
            },
            "description": "Number of events to return."
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Opaque cursor returned from the previous page.",
              "title": "Cursor"
            },
            "description": "Opaque cursor returned from the previous page."
          },
          {
            "name": "event_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by Stripe event type.",
              "title": "Event Type"
            },
            "description": "Filter by Stripe event type."
          },
          {
            "name": "processing_status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/StripeEventStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by processing outcome (received/processed/failed).",
              "title": "Processing Status"
            },
            "description": "Filter by processing outcome (received/processed/failed)."
          },
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BillingEventHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/billing/stream": {
      "get": {
        "tags": [
          "billing"
        ],
        "summary": "Billing Event Stream",
        "operationId": "billing_event_stream_api_v1_billing_stream_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "X-Tenant-Id",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Id"
            }
          },
          {
            "name": "X-Tenant-Role",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Tenant-Role"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AgentChatRequest": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "User input message for the agent."
          },
          "conversation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Id",
            "description": "Existing conversation identifier to maintain context."
          },
          "agent_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Type",
            "description": "Optional explicit agent to handle the message.",
            "default": "triage"
          },
          "context": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Optional, structured context to pass through."
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "AgentChatRequest",
        "description": "Request body for initiating or continuing a chat session."
      },
      "AgentChatResponse": {
        "properties": {
          "response": {
            "type": "string",
            "title": "Response",
            "description": "Natural language reply from the agent."
          },
          "conversation_id": {
            "type": "string",
            "title": "Conversation Id",
            "description": "Conversation identifier."
          },
          "agent_used": {
            "type": "string",
            "title": "Agent Used",
            "description": "Agent instance that handled the request."
          },
          "handoff_occurred": {
            "type": "boolean",
            "title": "Handoff Occurred",
            "description": "Indicates whether a handoff happened mid-conversation.",
            "default": false
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Arbitrary metadata returned by the agent pipeline."
          }
        },
        "type": "object",
        "required": [
          "response",
          "conversation_id",
          "agent_used"
        ],
        "title": "AgentChatResponse",
        "description": "Response body returned after the agent processes a message."
      },
      "AgentStatus": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Agent identifier."
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "error"
            ],
            "title": "Status",
            "description": "Operational status."
          },
          "last_used": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used",
            "description": "Last time the agent was invoked."
          },
          "total_conversations": {
            "type": "integer",
            "title": "Total Conversations",
            "description": "Total number of conversations handled.",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "name",
          "status"
        ],
        "title": "AgentStatus",
        "description": "Detailed information about a specific agent."
      },
      "AgentSummary": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Agent identifier."
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "error"
            ],
            "title": "Status",
            "description": "Health status of the agent."
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Short human-readable description."
          }
        },
        "type": "object",
        "required": [
          "name",
          "status"
        ],
        "title": "AgentSummary",
        "description": "Lightweight representation of an available agent."
      },
      "BillingContactModel": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 128,
            "minLength": 1,
            "title": "Name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "role": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Role"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "notify_billing": {
            "type": "boolean",
            "title": "Notify Billing",
            "default": true
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "name",
          "email"
        ],
        "title": "BillingContactModel"
      },
      "BillingEventHistoryResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BillingEventResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "next_cursor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Cursor",
            "description": "Opaque cursor for the next page. Null when no additional events exist."
          }
        },
        "type": "object",
        "title": "BillingEventHistoryResponse"
      },
      "BillingEventInvoiceResponse": {
        "properties": {
          "invoice_id": {
            "type": "string",
            "title": "Invoice Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "amount_due_cents": {
            "type": "integer",
            "title": "Amount Due Cents"
          },
          "currency": {
            "type": "string",
            "title": "Currency"
          },
          "billing_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Billing Reason"
          },
          "hosted_invoice_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hosted Invoice Url"
          },
          "collection_method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Method"
          },
          "period_start": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period Start"
          },
          "period_end": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period End"
          }
        },
        "type": "object",
        "required": [
          "invoice_id",
          "status",
          "amount_due_cents",
          "currency"
        ],
        "title": "BillingEventInvoiceResponse"
      },
      "BillingEventResponse": {
        "properties": {
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "event_type": {
            "type": "string",
            "title": "Event Type"
          },
          "stripe_event_id": {
            "type": "string",
            "title": "Stripe Event Id"
          },
          "occurred_at": {
            "type": "string",
            "title": "Occurred At"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "subscription": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BillingEventSubscriptionResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "invoice": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BillingEventInvoiceResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "usage": {
            "items": {
              "$ref": "#/components/schemas/BillingEventUsageResponse"
            },
            "type": "array",
            "title": "Usage"
          }
        },
        "type": "object",
        "required": [
          "tenant_id",
          "event_type",
          "stripe_event_id",
          "occurred_at",
          "status"
        ],
        "title": "BillingEventResponse"
      },
      "BillingEventSubscriptionResponse": {
        "properties": {
          "plan_code": {
            "type": "string",
            "title": "Plan Code"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "seat_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seat Count"
          },
          "auto_renew": {
            "type": "boolean",
            "title": "Auto Renew"
          },
          "current_period_start": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Period Start"
          },
          "current_period_end": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Period End"
          },
          "trial_ends_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trial Ends At"
          },
          "cancel_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cancel At"
          }
        },
        "type": "object",
        "required": [
          "plan_code",
          "status",
          "auto_renew"
        ],
        "title": "BillingEventSubscriptionResponse"
      },
      "BillingEventUsageResponse": {
        "properties": {
          "feature_key": {
            "type": "string",
            "title": "Feature Key"
          },
          "quantity": {
            "type": "integer",
            "title": "Quantity"
          },
          "period_start": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period Start"
          },
          "period_end": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period End"
          },
          "amount_cents": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amount Cents"
          }
        },
        "type": "object",
        "required": [
          "feature_key",
          "quantity"
        ],
        "title": "BillingEventUsageResponse"
      },
      "BillingPlanResponse": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "interval": {
            "type": "string",
            "title": "Interval"
          },
          "interval_count": {
            "type": "integer",
            "title": "Interval Count"
          },
          "price_cents": {
            "type": "integer",
            "title": "Price Cents"
          },
          "currency": {
            "type": "string",
            "title": "Currency"
          },
          "trial_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trial Days"
          },
          "seat_included": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seat Included"
          },
          "feature_toggles": {
            "additionalProperties": {
              "type": "boolean"
            },
            "type": "object",
            "title": "Feature Toggles"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "features": {
            "items": {
              "$ref": "#/components/schemas/PlanFeatureResponse"
            },
            "type": "array",
            "title": "Features"
          }
        },
        "type": "object",
        "required": [
          "code",
          "name",
          "interval",
          "interval_count",
          "price_cents",
          "currency"
        ],
        "title": "BillingPlanResponse"
      },
      "BrowserServiceAccountIssueRequest": {
        "properties": {
          "account": {
            "type": "string",
            "title": "Account",
            "description": "Service-account identifier."
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "Scopes requested for the service account."
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Tenant UUID when required by the service account."
          },
          "lifetime_minutes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lifetime Minutes",
            "description": "Optional refresh token lifetime in minutes."
          },
          "fingerprint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fingerprint",
            "description": "Optional machine or pipeline identifier for auditing."
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "description": "Force new token creation even when an active token exists.",
            "default": false
          },
          "reason": {
            "type": "string",
            "maxLength": 512,
            "minLength": 10,
            "title": "Reason",
            "description": "Human-readable justification for auditing."
          }
        },
        "type": "object",
        "required": [
          "account",
          "scopes",
          "reason"
        ],
        "title": "BrowserServiceAccountIssueRequest",
        "description": "Browser-initiated issuance request with justification."
      },
      "CancelSubscriptionRequest": {
        "properties": {
          "cancel_at_period_end": {
            "type": "boolean",
            "title": "Cancel At Period End",
            "description": "If true, cancellation occurs at the current period end.",
            "default": true
          }
        },
        "type": "object",
        "title": "CancelSubscriptionRequest"
      },
      "ChatMessage": {
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "user",
              "assistant",
              "system"
            ],
            "title": "Role",
            "description": "Originator of the message."
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Message body."
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp",
            "description": "ISO-8601 timestamp if available."
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "ChatMessage",
        "description": "Single conversational message."
      },
      "ConversationHistory": {
        "properties": {
          "conversation_id": {
            "type": "string",
            "title": "Conversation Id",
            "description": "Conversation identifier."
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/ChatMessage"
            },
            "type": "array",
            "title": "Messages",
            "description": "Complete message history."
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "Conversation creation timestamp."
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "Last update timestamp."
          },
          "agent_context": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Context",
            "description": "Optional agent metadata."
          }
        },
        "type": "object",
        "required": [
          "conversation_id",
          "messages",
          "created_at",
          "updated_at"
        ],
        "title": "ConversationHistory",
        "description": "Full detail view of a conversation."
      },
      "ConversationListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ConversationSummary"
            },
            "type": "array",
            "title": "Items"
          },
          "next_cursor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Cursor",
            "description": "Opaque cursor for fetching the next page."
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "ConversationListResponse",
        "description": "Paginated list of conversation summaries."
      },
      "ConversationSearchResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ConversationSearchResult"
            },
            "type": "array",
            "title": "Items"
          },
          "next_cursor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Cursor",
            "description": "Opaque cursor for fetching the next page of search results."
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "ConversationSearchResponse",
        "description": "Paginated search results."
      },
      "ConversationSearchResult": {
        "properties": {
          "conversation_id": {
            "type": "string",
            "title": "Conversation Id",
            "description": "Conversation identifier."
          },
          "preview": {
            "type": "string",
            "title": "Preview",
            "description": "Matched message snippet."
          },
          "score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Score",
            "description": "Backend relevance score."
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "Last update timestamp."
          }
        },
        "type": "object",
        "required": [
          "conversation_id",
          "preview"
        ],
        "title": "ConversationSearchResult",
        "description": "Search hit with preview and relevance score."
      },
      "ConversationSummary": {
        "properties": {
          "conversation_id": {
            "type": "string",
            "title": "Conversation Id",
            "description": "Conversation identifier."
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count",
            "description": "Number of messages recorded."
          },
          "last_message": {
            "type": "string",
            "title": "Last Message",
            "description": "Content preview of the latest message."
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "Creation timestamp."
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "Last update timestamp."
          }
        },
        "type": "object",
        "required": [
          "conversation_id",
          "message_count",
          "last_message",
          "created_at",
          "updated_at"
        ],
        "title": "ConversationSummary",
        "description": "Lightweight summary used when listing conversations."
      },
      "EmailVerificationConfirmRequest": {
        "properties": {
          "token": {
            "type": "string",
            "minLength": 1,
            "title": "Token",
            "description": "Verification token delivered via email."
          }
        },
        "type": "object",
        "required": [
          "token"
        ],
        "title": "EmailVerificationConfirmRequest",
        "description": "Payload for confirming the email verification token."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Service health status."
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO-8601 timestamp of the probe."
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Semantic version of the service."
          },
          "uptime": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Uptime",
            "description": "Process uptime in seconds when available."
          }
        },
        "type": "object",
        "required": [
          "status",
          "timestamp",
          "version"
        ],
        "title": "HealthResponse",
        "description": "Health check response payload."
      },
      "IncidentSchema": {
        "properties": {
          "incident_id": {
            "type": "string",
            "title": "Incident Id",
            "description": "Internal incident identifier."
          },
          "service": {
            "type": "string",
            "title": "Service",
            "description": "Impacted service name."
          },
          "occurred_at": {
            "type": "string",
            "format": "date-time",
            "title": "Occurred At",
            "description": "When the incident was recorded."
          },
          "impact": {
            "type": "string",
            "title": "Impact",
            "description": "External-facing description of the impact."
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "Current incident lifecycle state."
          }
        },
        "type": "object",
        "required": [
          "incident_id",
          "service",
          "occurred_at",
          "impact",
          "state"
        ],
        "title": "IncidentSchema"
      },
      "PasswordChangeRequest": {
        "properties": {
          "current_password": {
            "type": "string",
            "minLength": 8,
            "title": "Current Password",
            "description": "Current password for verification."
          },
          "new_password": {
            "type": "string",
            "minLength": 14,
            "title": "New Password",
            "description": "New password that satisfies platform policy."
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "PasswordChangeRequest",
        "description": "Self-service password change payload."
      },
      "PasswordForgotRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Email address associated with the account."
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "PasswordForgotRequest",
        "description": "Initiate a password reset email."
      },
      "PasswordResetConfirmRequest": {
        "properties": {
          "token": {
            "type": "string",
            "minLength": 1,
            "title": "Token",
            "description": "Password reset token from email."
          },
          "new_password": {
            "type": "string",
            "minLength": 14,
            "title": "New Password",
            "description": "Replacement password that satisfies platform policy."
          }
        },
        "type": "object",
        "required": [
          "token",
          "new_password"
        ],
        "title": "PasswordResetConfirmRequest",
        "description": "Redeem a password reset token to set a new password."
      },
      "PasswordResetRequest": {
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id",
            "description": "Target user identifier."
          },
          "new_password": {
            "type": "string",
            "minLength": 14,
            "title": "New Password",
            "description": "Replacement password that satisfies platform policy."
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "new_password"
        ],
        "title": "PasswordResetRequest",
        "description": "Admin-initiated password reset payload."
      },
      "PlanFeatureResponse": {
        "properties": {
          "key": {
            "type": "string",
            "title": "Key"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "hard_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hard Limit"
          },
          "soft_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Soft Limit"
          },
          "is_metered": {
            "type": "boolean",
            "title": "Is Metered",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "key",
          "display_name"
        ],
        "title": "PlanFeatureResponse"
      },
      "PlatformStatusResponse": {
        "properties": {
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At",
            "description": "Server-side generation timestamp for the snapshot."
          },
          "overview": {
            "$ref": "#/components/schemas/StatusOverviewSchema"
          },
          "services": {
            "items": {
              "$ref": "#/components/schemas/ServiceStatusSchema"
            },
            "type": "array",
            "title": "Services"
          },
          "incidents": {
            "items": {
              "$ref": "#/components/schemas/IncidentSchema"
            },
            "type": "array",
            "title": "Incidents"
          },
          "uptime_metrics": {
            "items": {
              "$ref": "#/components/schemas/UptimeMetricSchema"
            },
            "type": "array",
            "title": "Uptime Metrics"
          }
        },
        "type": "object",
        "required": [
          "generated_at",
          "overview",
          "services",
          "incidents",
          "uptime_metrics"
        ],
        "title": "PlatformStatusResponse"
      },
      "ServiceAccountIssueRequest": {
        "properties": {
          "account": {
            "type": "string",
            "title": "Account",
            "description": "Service-account identifier."
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "Scopes requested for the service account."
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Tenant UUID when required by the service account."
          },
          "lifetime_minutes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lifetime Minutes",
            "description": "Optional refresh token lifetime in minutes."
          },
          "fingerprint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fingerprint",
            "description": "Optional machine or pipeline identifier for auditing."
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "description": "Force new token creation even when an active token exists.",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "account",
          "scopes"
        ],
        "title": "ServiceAccountIssueRequest",
        "description": "Request payload for service-account refresh token issuance."
      },
      "ServiceAccountTokenItem": {
        "properties": {
          "jti": {
            "type": "string",
            "title": "Jti",
            "description": "Refresh token unique identifier (JWT jti)."
          },
          "account": {
            "type": "string",
            "title": "Account",
            "description": "Service-account identifier owning the token."
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Tenant UUID when the token is tenant-scoped."
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "Authorized scopes."
          },
          "issued_at": {
            "type": "string",
            "format": "date-time",
            "title": "Issued At",
            "description": "Issuance timestamp."
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "Expiration timestamp."
          },
          "revoked_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revoked At",
            "description": "Revocation timestamp, if applicable."
          },
          "revoked_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revoked Reason",
            "description": "Optional reason recorded during revocation."
          },
          "fingerprint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fingerprint",
            "description": "Caller-provided fingerprint for auditing."
          },
          "signing_kid": {
            "type": "string",
            "title": "Signing Kid",
            "description": "Key identifier used to sign the refresh token."
          }
        },
        "type": "object",
        "required": [
          "jti",
          "account",
          "scopes",
          "issued_at",
          "expires_at",
          "revoked_at",
          "signing_kid"
        ],
        "title": "ServiceAccountTokenItem",
        "description": "List view representation of a service-account refresh token."
      },
      "ServiceAccountTokenListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ServiceAccountTokenItem"
            },
            "type": "array",
            "title": "Items",
            "description": "Current page of results."
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of matching tokens across all pages."
          },
          "limit": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Requested page size."
          },
          "offset": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Offset",
            "description": "Requested offset."
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "limit",
          "offset"
        ],
        "title": "ServiceAccountTokenListResponse",
        "description": "Paginated response for service-account token listings."
      },
      "ServiceAccountTokenResponse": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "Minted refresh token for the service account."
          },
          "expires_at": {
            "type": "string",
            "title": "Expires At",
            "description": "ISO-8601 expiration timestamp."
          },
          "issued_at": {
            "type": "string",
            "title": "Issued At",
            "description": "ISO-8601 issuance timestamp."
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "Authorized scopes attached to the token."
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Tenant UUID if the account is tenant-scoped."
          },
          "kid": {
            "type": "string",
            "title": "Kid",
            "description": "Key identifier used to sign the token."
          },
          "account": {
            "type": "string",
            "title": "Account",
            "description": "Service-account identifier."
          },
          "token_use": {
            "type": "string",
            "title": "Token Use",
            "description": "Token classification (refresh, access, etc.)."
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "Optional session identifier when linked to a human session."
          }
        },
        "type": "object",
        "required": [
          "refresh_token",
          "expires_at",
          "issued_at",
          "scopes",
          "kid",
          "account",
          "token_use"
        ],
        "title": "ServiceAccountTokenResponse",
        "description": "Response returned after issuing a service-account refresh token."
      },
      "ServiceAccountTokenRevokeRequest": {
        "properties": {
          "reason": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 256
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Human-readable explanation for auditing (required for operators)."
          }
        },
        "type": "object",
        "title": "ServiceAccountTokenRevokeRequest",
        "description": "Payload for revoking a service-account refresh token."
      },
      "ServiceAccountTokenStatus": {
        "type": "string",
        "enum": [
          "active",
          "revoked",
          "all"
        ],
        "title": "ServiceAccountTokenStatus"
      },
      "ServiceStatusSchema": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Service or subsystem name."
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Operational status label."
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Short explanation of the service scope."
          },
          "owner": {
            "type": "string",
            "title": "Owner",
            "description": "Team responsible for the service."
          },
          "last_incident_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Incident At",
            "description": "Timestamp of the most recent incident involving the service."
          }
        },
        "type": "object",
        "required": [
          "name",
          "status",
          "description",
          "owner"
        ],
        "title": "ServiceStatusSchema"
      },
      "SessionClientInfo": {
        "properties": {
          "platform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform",
            "description": "Operating system/platform hint derived from the user-agent."
          },
          "browser": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Browser",
            "description": "Browser family detected from the user-agent."
          },
          "device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device",
            "description": "Device class (desktop, mobile, tablet, bot)."
          },
          "user_agent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Agent",
            "description": "Raw user-agent string captured during login/refresh."
          }
        },
        "type": "object",
        "title": "SessionClientInfo",
        "description": "Details about the client/browser reported for a session."
      },
      "SessionLocationInfo": {
        "properties": {
          "city": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "City",
            "description": "City derived from GeoIP (if available)."
          },
          "region": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Region",
            "description": "Region/subdivision derived from GeoIP."
          },
          "country": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Country",
            "description": "Country code derived from GeoIP."
          }
        },
        "type": "object",
        "title": "SessionLocationInfo",
        "description": "Approximate geolocation information for a session."
      },
      "SignupAccessPolicyResponse": {
        "properties": {
          "policy": {
            "type": "string",
            "title": "Policy",
            "description": "Active signup access policy."
          },
          "invite_required": {
            "type": "boolean",
            "title": "Invite Required",
            "description": "Indicates whether an invite token is required."
          },
          "request_access_enabled": {
            "type": "boolean",
            "title": "Request Access Enabled",
            "description": "Whether deployments expose the access-request workflow."
          }
        },
        "type": "object",
        "required": [
          "policy",
          "invite_required",
          "request_access_enabled"
        ],
        "title": "SignupAccessPolicyResponse"
      },
      "SignupInviteIssueRequest": {
        "properties": {
          "invited_email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invited Email",
            "description": "Optional email restriction for the invite."
          },
          "max_redemptions": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Max Redemptions",
            "description": "Maximum number of tenants that can redeem the invite.",
            "default": 1
          },
          "expires_in_hours": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 336.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires In Hours",
            "description": "Invite expiry window expressed in hours.",
            "default": 72
          },
          "note": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 512
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "Operator note stored alongside the invite."
          },
          "signup_request_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signup Request Id",
            "description": "Associate the invite with a previously submitted signup request."
          }
        },
        "type": "object",
        "title": "SignupInviteIssueRequest"
      },
      "SignupInviteIssueResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "token_hint": {
            "type": "string",
            "title": "Token Hint"
          },
          "invited_email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invited Email"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "max_redemptions": {
            "type": "integer",
            "title": "Max Redemptions"
          },
          "redeemed_count": {
            "type": "integer",
            "title": "Redeemed Count"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "signup_request_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signup Request Id"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          },
          "invite_token": {
            "type": "string",
            "title": "Invite Token",
            "description": "Plaintext invite token (only returned once)."
          }
        },
        "type": "object",
        "required": [
          "id",
          "token_hint",
          "status",
          "max_redemptions",
          "redeemed_count",
          "created_at",
          "invite_token"
        ],
        "title": "SignupInviteIssueResponse"
      },
      "SignupInviteListResponse": {
        "properties": {
          "invites": {
            "items": {
              "$ref": "#/components/schemas/SignupInviteResponse"
            },
            "type": "array",
            "title": "Invites"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "invites",
          "total"
        ],
        "title": "SignupInviteListResponse"
      },
      "SignupInviteResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "token_hint": {
            "type": "string",
            "title": "Token Hint"
          },
          "invited_email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invited Email"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "max_redemptions": {
            "type": "integer",
            "title": "Max Redemptions"
          },
          "redeemed_count": {
            "type": "integer",
            "title": "Redeemed Count"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "signup_request_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signup Request Id"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          }
        },
        "type": "object",
        "required": [
          "id",
          "token_hint",
          "status",
          "max_redemptions",
          "redeemed_count",
          "created_at"
        ],
        "title": "SignupInviteResponse"
      },
      "SignupInviteStatus": {
        "type": "string",
        "enum": [
          "active",
          "revoked",
          "expired",
          "exhausted"
        ],
        "title": "SignupInviteStatus",
        "description": "Lifecycle states for tenant signup invites."
      },
      "SignupRequestApprovalRequest": {
        "properties": {
          "note": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 512
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "Optional note recorded alongside the invite and decision."
          },
          "invite_expires_in_hours": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 336.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Invite Expires In Hours",
            "description": "Optional invite expiry override in hours.",
            "default": 72
          }
        },
        "type": "object",
        "title": "SignupRequestApprovalRequest"
      },
      "SignupRequestDecisionResponse": {
        "properties": {
          "request": {
            "$ref": "#/components/schemas/SignupRequestResponse"
          },
          "invite": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SignupInviteIssueResponse"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "request"
        ],
        "title": "SignupRequestDecisionResponse"
      },
      "SignupRequestListResponse": {
        "properties": {
          "requests": {
            "items": {
              "$ref": "#/components/schemas/SignupRequestResponse"
            },
            "type": "array",
            "title": "Requests"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "requests",
          "total"
        ],
        "title": "SignupRequestListResponse"
      },
      "SignupRequestPublicRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "organization": {
            "type": "string",
            "maxLength": 128,
            "minLength": 2,
            "title": "Organization"
          },
          "full_name": {
            "type": "string",
            "maxLength": 128,
            "minLength": 2,
            "title": "Full Name"
          },
          "message": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Optional context describing the intended use case."
          },
          "accept_terms": {
            "type": "boolean",
            "title": "Accept Terms",
            "description": "Indicates that the requester accepted the Terms."
          },
          "honeypot": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Honeypot",
            "description": "Hidden honeypot field used to detect basic bots."
          }
        },
        "type": "object",
        "required": [
          "email",
          "organization",
          "full_name",
          "accept_terms"
        ],
        "title": "SignupRequestPublicRequest"
      },
      "SignupRequestRejectionRequest": {
        "properties": {
          "reason": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 512
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason communicated to operators when rejecting a request."
          }
        },
        "type": "object",
        "title": "SignupRequestRejectionRequest"
      },
      "SignupRequestResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "organization": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Organization"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "decision_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Decision Reason"
          },
          "invite_token_hint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invite Token Hint"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "organization",
          "full_name",
          "status",
          "created_at"
        ],
        "title": "SignupRequestResponse"
      },
      "SignupRequestStatus": {
        "type": "string",
        "enum": [
          "pending",
          "approved",
          "rejected"
        ],
        "title": "SignupRequestStatus"
      },
      "StartSubscriptionRequest": {
        "properties": {
          "plan_code": {
            "type": "string",
            "title": "Plan Code",
            "description": "Billing plan to activate."
          },
          "billing_email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Billing Email",
            "description": "Primary billing contact."
          },
          "auto_renew": {
            "type": "boolean",
            "title": "Auto Renew",
            "description": "Whether the subscription auto-renews.",
            "default": true
          },
          "seat_count": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Seat Count",
            "description": "Optional explicit seat count override."
          }
        },
        "type": "object",
        "required": [
          "plan_code"
        ],
        "title": "StartSubscriptionRequest"
      },
      "StatusIncidentResendRequest": {
        "properties": {
          "severity": {
            "type": "string",
            "enum": [
              "all",
              "major",
              "maintenance"
            ],
            "title": "Severity",
            "description": "Incident severity used to filter subscriptions.",
            "default": "major"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Restrict delivery to a specific tenant context."
          }
        },
        "type": "object",
        "title": "StatusIncidentResendRequest"
      },
      "StatusIncidentResendResponse": {
        "properties": {
          "dispatched": {
            "type": "integer",
            "title": "Dispatched",
            "description": "Number of subscriptions notified."
          }
        },
        "type": "object",
        "required": [
          "dispatched"
        ],
        "title": "StatusIncidentResendResponse"
      },
      "StatusOverviewSchema": {
        "properties": {
          "state": {
            "type": "string",
            "title": "State",
            "description": "Human-readable health summary."
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Contextual description displayed on the status page."
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Timestamp of the last health aggregation."
          }
        },
        "type": "object",
        "required": [
          "state",
          "description",
          "updated_at"
        ],
        "title": "StatusOverviewSchema"
      },
      "StatusSubscriptionChallengeRequest": {
        "properties": {
          "token": {
            "type": "string",
            "title": "Token",
            "description": "Webhook challenge token."
          }
        },
        "type": "object",
        "required": [
          "token"
        ],
        "title": "StatusSubscriptionChallengeRequest"
      },
      "StatusSubscriptionCreateRequest": {
        "properties": {
          "channel": {
            "type": "string",
            "enum": [
              "email",
              "webhook"
            ],
            "title": "Channel"
          },
          "target": {
            "type": "string",
            "title": "Target"
          },
          "severity_filter": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "all",
                  "major",
                  "maintenance"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Severity Filter",
            "description": "Incident severity filter.",
            "default": "major"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Optional metadata labels."
          }
        },
        "type": "object",
        "required": [
          "channel",
          "target"
        ],
        "title": "StatusSubscriptionCreateRequest"
      },
      "StatusSubscriptionListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/StatusSubscriptionResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "next_cursor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Cursor"
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "StatusSubscriptionListResponse"
      },
      "StatusSubscriptionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "channel": {
            "type": "string",
            "title": "Channel"
          },
          "severity_filter": {
            "type": "string",
            "title": "Severity Filter"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "target_masked": {
            "type": "string",
            "title": "Target Masked"
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id"
          },
          "created_by": {
            "type": "string",
            "title": "Created By"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "webhook_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webhook Secret",
            "description": "Signing secret for webhook deliveries (returned on creation only)."
          }
        },
        "type": "object",
        "required": [
          "id",
          "channel",
          "severity_filter",
          "status",
          "target_masked",
          "created_by",
          "created_at",
          "updated_at"
        ],
        "title": "StatusSubscriptionResponse"
      },
      "StatusSubscriptionVerifyRequest": {
        "properties": {
          "token": {
            "type": "string",
            "title": "Token",
            "description": "Email verification token."
          }
        },
        "type": "object",
        "required": [
          "token"
        ],
        "title": "StatusSubscriptionVerifyRequest"
      },
      "StripeEventStatus": {
        "type": "string",
        "enum": [
          "received",
          "processed",
          "failed"
        ],
        "title": "StripeEventStatus"
      },
      "SuccessResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Operation success status flag.",
            "default": true
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable summary of the result."
          },
          "data": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Data",
            "description": "Optional payload containing the result."
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "SuccessResponse",
        "description": "Standard success response envelope."
      },
      "TenantSettingsResponse": {
        "properties": {
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "billing_contacts": {
            "items": {
              "$ref": "#/components/schemas/BillingContactModel"
            },
            "type": "array",
            "title": "Billing Contacts"
          },
          "billing_webhook_url": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Billing Webhook Url"
          },
          "plan_metadata": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Plan Metadata"
          },
          "flags": {
            "additionalProperties": {
              "type": "boolean"
            },
            "type": "object",
            "title": "Flags"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "tenant_id",
          "billing_contacts",
          "plan_metadata",
          "flags"
        ],
        "title": "TenantSettingsResponse"
      },
      "TenantSettingsUpdateRequest": {
        "properties": {
          "billing_contacts": {
            "items": {
              "$ref": "#/components/schemas/BillingContactModel"
            },
            "type": "array",
            "title": "Billing Contacts"
          },
          "billing_webhook_url": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Billing Webhook Url"
          },
          "plan_metadata": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Plan Metadata"
          },
          "flags": {
            "additionalProperties": {
              "type": "boolean"
            },
            "type": "object",
            "title": "Flags"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "billing_contacts",
          "plan_metadata",
          "flags"
        ],
        "title": "TenantSettingsUpdateRequest"
      },
      "TenantSubscriptionResponse": {
        "properties": {
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id"
          },
          "plan_code": {
            "type": "string",
            "title": "Plan Code"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "auto_renew": {
            "type": "boolean",
            "title": "Auto Renew"
          },
          "billing_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Billing Email"
          },
          "starts_at": {
            "type": "string",
            "format": "date-time",
            "title": "Starts At"
          },
          "current_period_start": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Period Start"
          },
          "current_period_end": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Period End"
          },
          "trial_ends_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trial Ends At"
          },
          "cancel_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cancel At"
          },
          "seat_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seat Count"
          },
          "metadata": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "tenant_id",
          "plan_code",
          "status",
          "auto_renew",
          "billing_email",
          "starts_at"
        ],
        "title": "TenantSubscriptionResponse"
      },
      "UpdateSubscriptionRequest": {
        "properties": {
          "auto_renew": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Renew",
            "description": "Toggle auto-renewal."
          },
          "billing_email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Billing Email",
            "description": "Override billing contact."
          },
          "seat_count": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Seat Count",
            "description": "Adjust allocated seats."
          }
        },
        "type": "object",
        "title": "UpdateSubscriptionRequest"
      },
      "UptimeMetricSchema": {
        "properties": {
          "label": {
            "type": "string",
            "title": "Label"
          },
          "value": {
            "type": "string",
            "title": "Value"
          },
          "helper_text": {
            "type": "string",
            "title": "Helper Text"
          },
          "trend_value": {
            "type": "string",
            "title": "Trend Value"
          },
          "trend_tone": {
            "type": "string",
            "title": "Trend Tone"
          }
        },
        "type": "object",
        "required": [
          "label",
          "value",
          "helper_text",
          "trend_value",
          "trend_tone"
        ],
        "title": "UptimeMetricSchema"
      },
      "UsageRecordRequest": {
        "properties": {
          "feature_key": {
            "type": "string",
            "title": "Feature Key",
            "description": "Identifier of the metered feature."
          },
          "quantity": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Quantity",
            "description": "Units consumed in this report."
          },
          "idempotency_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idempotency Key",
            "description": "Client-provided key to deduplicate usage submissions."
          },
          "period_start": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period Start",
            "description": "Billing period start (UTC)."
          },
          "period_end": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Period End",
            "description": "Billing period end (UTC)."
          }
        },
        "type": "object",
        "required": [
          "feature_key",
          "quantity"
        ],
        "title": "UsageRecordRequest"
      },
      "UserLoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address."
          },
          "password": {
            "type": "string",
            "minLength": 8,
            "title": "Password",
            "description": "Plaintext password to verify."
          },
          "tenant_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tenant Id",
            "description": "Tenant UUID when the user belongs to multiple tenants."
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "UserLoginRequest",
        "description": "Human user login payload."
      },
      "UserLogoutRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "minLength": 1,
            "title": "Refresh Token",
            "description": "Refresh token to revoke for the current user."
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "UserLogoutRequest",
        "description": "Payload for revoking a single refresh token."
      },
      "UserRefreshRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "minLength": 1,
            "title": "Refresh Token",
            "description": "Previously issued refresh token."
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "UserRefreshRequest",
        "description": "Refresh session request payload."
      },
      "UserRegisterRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Primary user email used for login + billing."
          },
          "password": {
            "type": "string",
            "minLength": 14,
            "title": "Password",
            "description": "Password that meets the platform's minimum complexity requirements."
          },
          "tenant_name": {
            "type": "string",
            "maxLength": 128,
            "minLength": 2,
            "title": "Tenant Name",
            "description": "Display name for the tenant."
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name",
            "description": "Optional profile display name for the owner account."
          },
          "plan_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan Code",
            "description": "Requested billing plan (defaults to server configuration when omitted)."
          },
          "trial_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 365.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Trial Days",
            "description": "Optional trial duration hint; ignored unless the deployment explicitly allows overrides."
          },
          "accept_terms": {
            "type": "boolean",
            "title": "Accept Terms",
            "description": "Indicates whether the caller accepted the Terms of Service.",
            "default": false
          },
          "invite_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invite Token",
            "description": "Invite token or approval code required for invite-only deployments."
          }
        },
        "type": "object",
        "required": [
          "email",
          "password",
          "tenant_name"
        ],
        "title": "UserRegisterRequest",
        "description": "Public signup payload used to create a tenant + owner account."
      },
      "UserRegisterResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "Signed JWT access token."
          },
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "Signed JWT refresh token."
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "Token type hint for the Authorization header.",
            "default": "bearer"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "ISO-8601 timestamp when the access token expires."
          },
          "refresh_expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Refresh Expires At",
            "description": "ISO-8601 timestamp when the refresh token expires."
          },
          "kid": {
            "type": "string",
            "title": "Kid",
            "description": "Key identifier used to sign the access token."
          },
          "refresh_kid": {
            "type": "string",
            "title": "Refresh Kid",
            "description": "Key identifier used to sign the refresh token."
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "Authorized scopes attached to the session."
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id",
            "description": "Tenant context associated with the tokens."
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identifier encoded in the tokens."
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified",
            "description": "Whether the email has been verified."
          },
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id",
            "description": "Opaque session identifier for device tracking."
          },
          "tenant_slug": {
            "type": "string",
            "title": "Tenant Slug",
            "description": "URL-safe slug generated for the tenant."
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "refresh_token",
          "expires_at",
          "refresh_expires_at",
          "kid",
          "refresh_kid",
          "scopes",
          "tenant_id",
          "user_id",
          "email_verified",
          "session_id",
          "tenant_slug"
        ],
        "title": "UserRegisterResponse",
        "description": "Session response returned by /auth/register with tenant metadata."
      },
      "UserSessionItem": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Session identifier."
          },
          "tenant_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tenant Id",
            "description": "Tenant associated with the session."
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Timestamp when the session was first created."
          },
          "last_seen_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Seen At",
            "description": "Last activity timestamp for the session."
          },
          "revoked_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Revoked At",
            "description": "When the session was revoked (if applicable)."
          },
          "ip_address_masked": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ip Address Masked",
            "description": "Masked IP address for user-facing audits."
          },
          "fingerprint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fingerprint",
            "description": "Server-generated fingerprint for the IP + user-agent combo."
          },
          "client": {
            "$ref": "#/components/schemas/SessionClientInfo",
            "description": "Client/browser metadata."
          },
          "location": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SessionLocationInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "Approximate location for the session."
          },
          "current": {
            "type": "boolean",
            "title": "Current",
            "description": "True when this session matches the caller's token context."
          }
        },
        "type": "object",
        "required": [
          "id",
          "tenant_id",
          "created_at",
          "last_seen_at",
          "revoked_at",
          "client",
          "current"
        ],
        "title": "UserSessionItem",
        "description": "Single session/device entry for session management UI."
      },
      "UserSessionListResponse": {
        "properties": {
          "sessions": {
            "items": {
              "$ref": "#/components/schemas/UserSessionItem"
            },
            "type": "array",
            "title": "Sessions",
            "description": "Session records for the user."
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of sessions matching the filter."
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Maximum sessions returned in this response."
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Offset applied when querying sessions."
          }
        },
        "type": "object",
        "required": [
          "sessions",
          "total",
          "limit",
          "offset"
        ],
        "title": "UserSessionListResponse",
        "description": "Paginated list of user sessions/devices."
      },
      "UserSessionResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "Signed JWT access token."
          },
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "Signed JWT refresh token."
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "Token type hint for the Authorization header.",
            "default": "bearer"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "ISO-8601 timestamp when the access token expires."
          },
          "refresh_expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Refresh Expires At",
            "description": "ISO-8601 timestamp when the refresh token expires."
          },
          "kid": {
            "type": "string",
            "title": "Kid",
            "description": "Key identifier used to sign the access token."
          },
          "refresh_kid": {
            "type": "string",
            "title": "Refresh Kid",
            "description": "Key identifier used to sign the refresh token."
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scopes",
            "description": "Authorized scopes attached to the session."
          },
          "tenant_id": {
            "type": "string",
            "title": "Tenant Id",
            "description": "Tenant context associated with the tokens."
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "User identifier encoded in the tokens."
          },
          "email_verified": {
            "type": "boolean",
            "title": "Email Verified",
            "description": "Whether the email has been verified."
          },
          "session_id": {
            "type": "string",
            "format": "uuid",
            "title": "Session Id",
            "description": "Opaque session identifier for device tracking."
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "refresh_token",
          "expires_at",
          "refresh_expires_at",
          "kid",
          "refresh_kid",
          "scopes",
          "tenant_id",
          "user_id",
          "email_verified",
          "session_id"
        ],
        "title": "UserSessionResponse",
        "description": "Bearer credential pair returned after login or refresh."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}